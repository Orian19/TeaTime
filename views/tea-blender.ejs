<link rel="stylesheet" href="/css/blender.css">
<main>
<div class="add-padding">
    <h1 class="page-heading"> Tea Blender</h1>
    <div class="blender-container">
        <div class="form-container">
            <form id="blendForm">
                <label for="blendName">Blend Name:</label>
                <input type="text" id="blendName" name="blendName" required>

                <label for="baseTea">Base Tea:</label>
                <select id="baseTea" name="baseTea" required>
                    <option value="">Select a base tea</option>
                    <% blendableTeas.filter(tea => tea.category !== 'Flavor').forEach(tea => { %>
                        <option value="<%= tea.id %>"><%= tea.name %></option>
                    <% }); %>
                </select>

                <h2>Flavors</h2>
                <div id="flavorComponents">
                    <% blendableTeas.filter(tea => tea.category === 'Flavor').forEach(flavor => { %>
                        <div class="flavor-item">
                            <label for="<%= flavor.id %>"><%= flavor.name %></label>
                            <input type="range" id="<%= flavor.id %>" name="flavors" min="0" max="100" value="0">
                            <span class="flavor-value">0%</span>
                        </div>
                    <% }); %>
                </div>

                <button type="submit">Create Blend</button>
            </form>
        </div>
        <div class="chart-container">
            <h2>Blend Preview</h2>
            <canvas id="blendChart"></canvas>
        </div>
    </div>

    <div id="userBlends">
        <h2>Your Custom Blends</h2>
        <div id="blendsList"></div>
    </div>
</div>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/tea-blender.js"></script>